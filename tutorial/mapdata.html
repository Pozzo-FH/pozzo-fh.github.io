<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Basics of mapdata.py</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../style.css" />
  <link rel='stylesheet' href='//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack-subset.css'>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/comic-mono@0.0.1/index.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Basics of mapdata.py</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#bare-minimum" id="toc-bare-minimum">Bare Minimum</a></li>
<li><a href="#nco-kits" id="toc-nco-kits">NCO Kits</a></li>
<li><a href="#team-spawns" id="toc-team-spawns">Team Spawns</a></li>
<li><a href="#sector-tickets" id="toc-sector-tickets">Sector
Tickets</a></li>
<li><a href="#dynamic-oob" id="toc-dynamic-oob">Dynamic OOB</a></li>
</ul>
</nav>
<h2 id="bare-minimum">Bare Minimum</h2>
<p>Copy this template when creating a new mapdata.py from scratch</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># -*- coding: utf-8 -*-</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># pylint: disable=C0103,C0111,F0401,C0302,R0913</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> game.plugins <span class="im">import</span> (</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    plugin,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    limitKit,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    NCOrifleData,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    teamSPs,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    ticketLoss,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>nco_kits <span class="op">=</span> [</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    plugin(</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>        NCOrifleData,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>        kits<span class="op">=</span>(<span class="st">&quot;GA_NCOMP40&quot;</span>, <span class="st">&quot;RE_NCO_42&quot;</span>),</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>        soldiers<span class="op">=</span>(<span class="st">&quot;GcWhSnow_white_nco_redband&quot;</span>, <span class="st">&quot;re_nco_soldier_telogrieka&quot;</span>),</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>kitlimits_64 <span class="op">=</span> [</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    plugin(limitKit, team<span class="op">=</span><span class="dv">1</span>, slot<span class="op">=</span><span class="dv">1</span>, kit<span class="op">=</span><span class="st">&quot;GW_SMGAssault_limited&quot;</span>, limit<span class="op">=</span><span class="fl">0.1</span>),</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    plugin(limitKit, team<span class="op">=</span><span class="dv">2</span>, slot<span class="op">=</span><span class="dv">1</span>, kit<span class="op">=</span><span class="st">&quot;RE_SMGAssault_Limited&quot;</span>, limit<span class="op">=</span><span class="fl">0.15</span>),</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>kitlimits_32 <span class="op">=</span> [</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    plugin(limitKit, team<span class="op">=</span><span class="dv">1</span>, slot<span class="op">=</span><span class="dv">1</span>, kit<span class="op">=</span><span class="st">&quot;GW_SMGAssault_limited&quot;</span>, limit<span class="op">=</span><span class="fl">0.3</span>),</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    plugin(limitKit, team<span class="op">=</span><span class="dv">2</span>, slot<span class="op">=</span><span class="dv">1</span>, kit<span class="op">=</span><span class="st">&quot;RE_SMGAssault_Limited&quot;</span>, limit<span class="op">=</span><span class="fl">0.45</span>),</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>kitlimits_16 <span class="op">=</span> [</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    plugin(limitKit, team<span class="op">=</span><span class="dv">1</span>, slot<span class="op">=</span><span class="dv">1</span>, kit<span class="op">=</span><span class="st">&quot;GW_SMGAssault_limited&quot;</span>, limit<span class="op">=</span><span class="fl">0.2</span>),</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    plugin(limitKit, team<span class="op">=</span><span class="dv">2</span>, slot<span class="op">=</span><span class="dv">1</span>, kit<span class="op">=</span><span class="st">&quot;RE_SMGAssault_Limited&quot;</span>, limit<span class="op">=</span><span class="fl">0.25</span>),</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>spawns <span class="op">=</span> [</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    plugin(teamSPs),</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>tickets_64 <span class="op">=</span> [plugin(ticketLoss, ticketLoss1<span class="op">=</span><span class="dv">20</span>, ticketLoss2<span class="op">=</span><span class="dv">20</span>)]</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>tickets_32 <span class="op">=</span> [plugin(ticketLoss, ticketLoss1<span class="op">=</span><span class="dv">16</span>, ticketLoss2<span class="op">=</span><span class="dv">16</span>)]</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>tickets_16 <span class="op">=</span> [plugin(ticketLoss, ticketLoss1<span class="op">=</span><span class="dv">12</span>, ticketLoss2<span class="op">=</span><span class="dv">12</span>)]</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>gpm_cq <span class="op">=</span> {</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>    <span class="dv">64</span>: (nco_kits <span class="op">+</span> spawns <span class="op">+</span> tickets_64 <span class="op">+</span> kitlimits_64),</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>    <span class="dv">32</span>: (nco_kits <span class="op">+</span> spawns <span class="op">+</span> tickets_32 <span class="op">+</span> kitlimits_32),</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>    <span class="dv">16</span>: (nco_kits <span class="op">+</span> spawns <span class="op">+</span> tickets_16 <span class="op">+</span> kitlimits_16),</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="nco-kits">NCO Kits</h2>
<p>Define your NCO kits like below. It is recommended to also specify
the soldiers in there. This will save you confusion if you use different
kits or soldiers on different layers.</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>nco_kits <span class="op">=</span> [</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    plugin(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        NCOrifleData,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        kits<span class="op">=</span>(<span class="st">&quot;GA_NCOMP40&quot;</span>, <span class="st">&quot;RE_NCO_42&quot;</span>),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>        soldiers<span class="op">=</span>(<span class="st">&quot;GcWhSnow_white_nco_redband&quot;</span>, <span class="st">&quot;re_nco_soldier_telogrieka&quot;</span>),</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>]</span></code></pre></div>
<h2 id="team-spawns">Team Spawns</h2>
<p>This allows you to make spawns <em>for axis/allies only</em>!</p>
<p>If you named your spawnpoints <strong>well</strong> – the spawnpoint
name</p>
<ul>
<li>has the name of its flag in its own name</li>
<li>for team-only spawns, has <code>axis</code> or <code>allies</code>
in its name</li>
</ul>
<p>then you can just configure the plugin like this, without specifying
any names at all.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>spawns <span class="op">=</span> [</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    plugin(teamSPs),  <span class="co"># Auto-fill</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>]</span></code></pre></div>
<h2 id="sector-tickets">Sector Tickets</h2>
<p>For each flag (usually the dummy flag that locks the sector) you can
specify how tickets are updated.</p>
<p>The config is like this: make a <code>dict(str-&gt;2-tuple)</code>,
with the flagname string as key. The dict value is a
<code>2-tuple</code> of <code>int</code> or <code>string</code>.
<code>tup[0]</code> is the axis ticket update, <code>tup[1]</code> is
the allies ticket update.</p>
<p>Ticket updates can be:</p>
<ul>
<li>No changing tickets
<ul>
<li><code>None</code>, <code>"+0"</code>, <code>"-0"</code></li>
</ul></li>
<li>Absolute new tickets (set tickets to 500 if flag changes hand)
<ul>
<li><code>100</code>, <code>"200"</code> (<code>int</code> or
castable-to-<code>int</code>)</li>
</ul></li>
<li>Relative ticket update (add 200 tickets to current ones)
<ul>
<li><code>"+100"</code>, <code>"-200"</code> (string <code>+-</code>,
followed by castable-to-<code>int</code>)</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> game.plugins <span class="im">import</span> SectorTickets</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>tickets_per_Sector <span class="op">=</span> [</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    plugin(</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>        SectorTickets,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>        sector_tickets<span class="op">=</span>{</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;CP_64_mymap_sectorlock1dummy&quot;</span>: {</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;axis&quot;</span>: <span class="dv">300</span>,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;allies&quot;</span>: <span class="st">&quot;100&quot;</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>            },</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;CP_64_mymap_sectorlock2dummy&quot;</span>: {</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;capped_by&quot;</span>: <span class="st">&quot;axis&quot;</span>,</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;allies&quot;</span>: <span class="st">&quot;-40&quot;</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>            },</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>]</span></code></pre></div>
<h2 id="dynamic-oob">Dynamic OOB</h2>
<p>Has its <a href="./dynoob.html">own tutorial</a></p>
</body>
</html>
